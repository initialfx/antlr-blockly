"10,11": [ // 商人事件，if语句和choices语句的写法
    // 这部分逻辑相对比较长，细心看，很容易看懂的。
    {"type": "if", "condition": "flag:woman_times==0", // 条件判断：是否从未访问过此商人。
        "true": [ // 如果从未访问过该商人，显示一段文字
            "\t[老人,woman]这是个很复杂的例子，它将教会你如何使用if 语句进行条件判断，以及 choices 提供选项来供用户进行选择。",
            "\t[老人,woman]第一次访问我将显示这段文字；从第二次开始将会向你出售钥匙。\n钥匙价格将随着访问次数递增。\n当合计出售了七把钥匙后，将送你一把大黄门钥匙，并消失不再出现。",
            "\t[老人,woman]这部分的逻辑比较长，请细心看样板的写法，是很容易看懂并理解的。"
            // 第一次访问结束
        ],
        "false": [ // 如果已经访问过该商人
            {"type": "if", "condition": "flag:woman_times==8", // 条件判断：是否已经出售七把钥匙
                "true": [ // 如果已经出售过七把钥匙，则直接结束
                    "\t[老人,woman]你购买的钥匙已经够多了，再继续卖给你的话我会有危险的。",
                    "\t[老人,woman]看在你贡献给我这么多钱的份上，送你一把大黄门钥匙吧，希望你能好好用它。",
                    {"type": "setValue", "name": "item:bigKey", "value": "item:bigKey+1"}, // 获得一把大黄门钥匙
                    "\t[老人,woman]我先走了，拜拜~",
                    {"type":"hide", "time": 500}, // 消失
                    {"type":"exit"} // 立刻结束当前事件。下面的 setValue 和 revisit 都不会再执行。
                ],
                "false": [ // 否则，显示选择页面
                    {"type": "choices", "text": "\t[老人,woman]少年，你需要钥匙吗？\n我这里有大把的！", // 显示一个卖钥匙的选择页面
                        "choices": [ // 提供四个选项：黄钥匙、蓝钥匙、红钥匙、离开。前三个选项显示需要的金额
                            {"text": "黄钥匙（${9+flag:woman_times}金币）", "action": [ // 第一个选项，黄钥匙
                                // 选择该选项的执行内容
                                {"type": "if", "condition": "status:money>=9+flag:woman_times", // 条件判断：钱够不够
                                    "true": [
                                        {"type": "setValue", "name": "status:money", "value": "status:money-(9+flag:woman_times)"}, // 扣减金钱
                                        {"type": "setValue", "name": "item:yellowKey", "value": "item:yellowKey+1"}, // 增加黄钥匙
                                        // 然后会继续执行下面的setValue来增加商人访问次数
                                    ],
                                    "false": [
                                        "\t[老人,woman]你的金钱不足！",
                                        {"type": "revisit"} // 直接重新访问；不执行下面的setValue来增加访问次数
                                    ]
                                }
                            ]},
                            {"text": "蓝钥匙（${18+2*flag:woman_times}金币）", "action": [ // 第二个选项：蓝钥匙
                                // 逻辑和上面黄钥匙完全相同，略
                            ]},
                            {"text": "红钥匙（${36+4*flag:woman_times}金币）", "action": [ // 第三个选项：红钥匙
                                // 逻辑和上面黄钥匙完全相同，略
                            ]},
                            {"text": "离开", "action": [ // 第四个选项：离开
                                {"type": "exit"} // 立刻结束当前事件
                            ]}
                        ]
                    }
                ]
            }
        ]
    },
    {"type": "setValue", "name": "flag:woman_times", "value": "flag:woman_times+1"}, // 增加该商人的访问次数。
    {"type": "revisit"} // 立即重新开始这个事件
],


<xml xmlns="http://www.w3.org/1999/xhtml"><variables></variables><block type="event_m" id="ZjQTmcPqlbmB4rWwtHFb" deletable="false" x="-640" y="-159"><statement name="actionList"><block type="actionlist" id="EqXfr9escNaQbktsBeeR"><statement name="ACTIONS"><block type="text_s_1" id="3.34tovt~URp|A^JLW`-"><field name="Evalstring">实现了文档中 choices: 给用户提供选项 中的复杂事件</field><next><block type="if_s" id="mB{gA~yKm5CmnjboTc)@"><value name="EvalString"><block type="logic_compare" id="Av`[}J)p1a*~f[x%k/iC"><field name="OP">EQ</field><value name="A"><block type="evalstring_all_e" id="L9PP2VY*=G2}u~[XH^~8"><field name="IdString">flag</field><field name="EvalString">women</field></block></value><value name="B"><shadow type="math_number" id="K(e-BEb3lq4p_Uq3a4fP"><field name="NUM">0</field></shadow></value></block></value><statement name="actionList"><block type="actionlist" id="n4IT]Xp(ep!b5Z;A7i!)"><statement name="ACTIONS"><block type="text_s_2" id="Fj~J}^k-ybh%hCTc!HzJ"><field name="EvalString">老人</field><field name="IdString">woman</field><field name="Evalstring_1">这是个很复杂的例子，它将教会你如何使用if 语句进行条件判断，以及 choices 提供选项来供用户进行选择。</field><next><block type="text_s_2" id="tp$q~?4^N.CkBrW.)m=:"><field name="EvalString">老人</field><field name="IdString">woman</field><field name="Evalstring_1">第一次访问我将显示这段文字；从第二次开始将会向你出售钥匙。\n钥匙价格将随着访问次数递增。\n当合计出售了七把钥匙后，将送你一把大黄门钥匙，并消失不再出现。</field><next><block type="text_s_2" id="#GN{01Kr#=U]IrEpF81F"><field name="EvalString">老人</field><field name="IdString">woman</field><field name="Evalstring_1">这部分的逻辑比较长，请细心看样板的写法，是很容易看懂并理解的。</field></block></next></block></next></block></statement></block></statement><statement name="actionList_1"><block type="actionlist" id="zNiAq:34?E~VA]]_.*z?"><statement name="ACTIONS"><block type="if_s" id="q45FD9cEAXzv+6K1Q+As"><value name="EvalString"><block type="logic_compare" id="s(8a`p#Br9D42#:.(Ajp"><field name="OP">EQ</field><value name="A"><block type="evalstring_all_e" id="wY1%gHYZlbTR%w!j=.L;"><field name="IdString">flag</field><field name="EvalString">women</field></block></value><value name="B"><shadow type="math_number" id="=8W59@z1c8z3mg*sF%Yv"><field name="NUM">8</field></shadow></value></block></value><statement name="actionList"><block type="actionlist" id="NPPgOQR,ZNWZ]+qTcYo."><statement name="ACTIONS"><block type="text_s_2" id="7gm0#-f#SSZkhb@}`Vi#"><field name="EvalString">老人</field><field name="IdString">woman</field><field name="Evalstring_1">你购买的钥匙已经够多了，再继续卖给你的话我会有危险的。</field><next><block type="text_s_2" id="6(z!Sd.3gKP!G3|nYRcq"><field name="EvalString">老人</field><field name="IdString">woman</field><field name="Evalstring_1">看在你贡献给我这么多钱的份上，送你一把大黄门钥匙吧，希望你能好好用它。</field><next><block type="setvalue_s" id=";=ePDQeTA,kwEh$Ra^X_"><value name="EvalString"><block type="evalstring_all_e" id="z6.,x%^#p/C/Qk,gRjW#"><field name="IdString">item</field><field name="EvalString">bigKey</field></block></value><value name="EvalString_1"><block type="math_arithmetic" id=";etEds+-9.R3D)_h2m!b"><field name="OP">ADD</field><value name="A"><block type="evalstring_all_e" id="X30zJUgVZ^j@,4VzRY+U"><field name="IdString">item</field><field name="EvalString">bigKey</field></block></value><value name="B"><shadow type="math_number" id="8|9c~,axhUiAiXkoDe5L"><field name="NUM">1</field></shadow></value></block></value><next><block type="text_s_2" id="#SD_,q#qW}P_$FVas4e,"><field name="EvalString">老人</field><field name="IdString">woman</field><field name="Evalstring_1">我先走了，拜拜~</field><next><block type="hide_s" id=")7zo%}*LQeNTH5/(dX:,"><field name="INT"></field><field name="INT_1"></field><field name="IdString"></field><field name="INT_2">500</field></block></next></block></next></block></next></block></next></block></statement></block></statement><statement name="actionList_1"><block type="actionlist" id="Al0uQGP.@b8JT5*AkGt("><statement name="ACTIONS"><block type="choices_s" id="7;M82mnQZq-[SxPg|Q}4"><field name="EvalString">\t[老人,woman]少年，你需要钥匙吗？\n我这里有大把的！</field><statement name="choicesContextList"><block type="choicescontext" id="3KXrI#DBm{X|YrW=yNzr"><field name="EvalString">黄钥匙（${9+flag:woman_times}金币）</field><statement name="actionList"><block type="actionlist" id="W_o#WBfK_M[M$~4NcuY/"><statement name="ACTIONS"><block type="if_s" id="1WMD~nib3*_IF,XbQt18"><value name="EvalString"><block type="logic_compare" id="^S@~Fb^s*:!MA293S-2R"><field name="OP">GT</field><value name="A"><block type="evalstring_all_e" id="aa*eD]u,rpCT9rx-gy9@"><field name="IdString">status</field><field name="EvalString">money</field></block></value><value name="B"><shadow type="math_number" id="gNe0fzQ3r+8KN{;/3nru"><field name="NUM">100</field></shadow><block type="math_arithmetic" id="/5p1%-Fn+hMrrC+=npRQ"><field name="OP">ADD</field><value name="A"><block type="math_number" id="397+rc2h0:_1dGJUDe4N"><field name="NUM">9</field></block></value><value name="B"><shadow type="math_number" id="(MwwB`J#QLyIza@kwV6r"><field name="NUM">1</field></shadow><block type="evalstring_all_e" id="c^yw+7ul=|(t#SO|RE]="><field name="IdString">flag</field><field name="EvalString">woman_times</field></block></value></block></value></block></value><statement name="actionList"><block type="actionlist" id="/t}GM:Vt#HCbvNXA+y)E"><statement name="ACTIONS"><block type="setvalue_s" id="W8^$5^:x,0FbL1?*)7wl"><value name="EvalString"><block type="evalstring_all_e" id="0g[76$.9md-_UjOf90q}"><field name="IdString">status</field><field name="EvalString">money</field></block></value><value name="EvalString_1"><block type="math_arithmetic" id="BkagWN$EMdwf34~*ir=x"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="])W~iS3`H%9+Zj?-6G1X"><field name="NUM">1</field></shadow><block type="evalstring_all_e" id="s2h~Mc^k6gMjxy--w`6U"><field name="IdString">status</field><field name="EvalString">money</field></block></value><value name="B"><shadow type="math_number" id="[1m|A:2a3JT2+nX=kw8l"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="@JLsKU2nRpS5^3D(}iID"><field name="OP">ADD</field><value name="A"><block type="math_number" id="pAqfF:veJ!VY@%M2o#Qh"><field name="NUM">9</field></block></value><value name="B"><shadow type="math_number" id="(MwwB`J#QLyIza@kwV6r"><field name="NUM">1</field></shadow><block type="evalstring_all_e" id="d~sb)f/4u^z:T*)_DYdD"><field name="IdString">flag</field><field name="EvalString">woman_times</field></block></value></block></value></block></value><next><block type="setvalue_s" id="t^!`ARoxxX{@%K0)dhU$"><value name="EvalString"><block type="evalstring_all_e" id="L%3fu1GeNRp[v5h8GFPf"><field name="IdString">item</field><field name="EvalString">yellowKey</field></block></value><value name="EvalString_1"><block type="math_arithmetic" id="LQf)@%~$k?frXt4w_#HP"><field name="OP">ADD</field><value name="A"><block type="evalstring_all_e" id="DJO76`0##,kv$7R|dxnG"><field name="IdString">item</field><field name="EvalString">yellowKey</field></block></value><value name="B"><shadow type="math_number" id="CSB3_2t%3m.90nl9t0/%"><field name="NUM">1</field></shadow></value></block></value></block></next></block></statement></block></statement><statement name="actionList_1"><block type="actionlist" id="1q=-j__Z8XrTdijQk3;2"><statement name="ACTIONS"><block type="text_s_2" id="Uwy9+c1h-C];+9@A9Pze"><field name="EvalString">老人</field><field name="IdString">woman</field><field name="Evalstring_1">你的金钱不足！</field><next><block type="revisit_s" id="^TdL2L]c[MLyE9NRlWT|"></block></next></block></statement></block></statement></block></statement></block></statement><next><block type="choicescontext" id="%Jw4/]WLl2;G~i6Id-*t"><field name="EvalString">蓝钥匙（${18+2*flag:woman_times}金币）</field><statement name="actionList"><block type="actionlist" id="oR!q:eXqk3{=VaU?CmcJ"></block></statement><next><block type="choicescontext" id="l4:tywnG2C.3+Dg%-Zf~"><field name="EvalString">红钥匙（${36+4*flag:woman_times}金币）</field><statement name="actionList"><block type="actionlist" id="Sy98T6MjM!+Wjgr2u;,H"></block></statement></block></next></block></next></block></statement></block></statement></block></statement></block></statement></block></statement><next><block type="setvalue_s" id="y+r[Q2]ri_tOpABI(*fh"><value name="EvalString"><block type="evalstring_all_e" id="TwNVtG,j[^jU.i)t5*@_"><field name="IdString">flag</field><field name="EvalString">woman_times</field></block></value><value name="EvalString_1"><block type="math_arithmetic" id="%k^q!D%y5yy%@B#)ji#5"><field name="OP">ADD</field><value name="A"><block type="evalstring_all_e" id="bzhCPn`Fy!h.Jj|dmq:K"><field name="IdString">flag</field><field name="EvalString">woman_times</field></block></value><value name="B"><shadow type="math_number" id="%Sl.Z`]iE]y{JAs2Q-}F"><field name="NUM">1</field></shadow></value></block></value><next><block type="revisit_s" id="n]{f{W-?wDAz0@Eo9y3v"></block></next></block></next></block></next></block></statement></block></statement></block></xml>